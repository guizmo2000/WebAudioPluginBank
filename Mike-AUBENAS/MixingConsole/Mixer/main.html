<script src="https://wasabi.i3s.unice.fr/WebAudioPluginBank/bower_components/webaudio-controls2/webcomponents-lite.js"></script>
<script> WebAudioControlsOptions = { useMidi: 1 }; </script>
<script src="https://wasabi.i3s.unice.fr/WebAudioPluginBank/bower_components/webaudio-controls2/webaudio-controls.js"></script>
<script src="../ChannelMixer/main.js"></script>
<link rel="import" href="../ChannelMixer/main.html"></link>

<template id="wc-mixer">

	<style>

		:host 
		{
			background: linear-gradient( rgb(77, 74, 78),rgb(136, 5, 129));
			box-shadow: 4px 5px 6px rgba(0, 0, 0, 0.7), 
						inset -2px -2px 5px 0px rgba(0, 0, 0, 0.2), 
						inset 3px 1px 1px 4px rgba(255, 255, 255, 0.2), 
						1px 0px 1px 0px rgba(0, 0, 0, 0.9), 
						0 2px 1px 0 rgba(0, 0, 0, 0.9), 
						1px 1px 1px 0px rgba(0, 0, 0, 0.9);

			width: 120px;
			height: 180px;
			display: block;
			user-select: none;
			cursor: move;
			z-index: 9;

			border-bottom-left-radius: 8px;
			border-bottom-right-radius: 8px;
		}
		

	</style>

    <wasabi-channelmixer channelNumber="3"></wc-channelmixer>

</template>

<script>

    let delaytemp = document.currentScript.ownerDocument.querySelector("#wc-mixer");

	class MixerGUI extends HTMLElement 
	{
		constructor(plug) 
		{ 
			super();
			this._plug = plug;
			this._root = this.attachShadow({ mode: 'open' });
			this._root.appendChild(delaytemp.content.cloneNode(true));
			this.isOn = false;
		}

		get properties() 
		{
			this.boundingRect = 
			{
				dataWidth: 
				{
					type: Number,
					value: 120
				},
				dataHeight: 
				{
					type: Number,
					value: 180
				}
			};

			return this.boundingRect;
		}

		setKnobs() 
		{
            
		}	
	}

	try 
	{
		console.log("Element defined");
		customElements.define('wasabi-mixer', MixerGUI);
	} 
	catch(error)
	{
		console.log(error);
		console.log("Element already defined");      
	}


	createWAP = (plug) => 
	{
		let elem = new MixerGUI(plug);
		return elem; 
	}

</script>