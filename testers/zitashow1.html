
<!DOCTYPE html>
<html>

<head>
  <title>Host that loads a plugin with its GUI</title>
  <meta http-equiv="origin-trial" data-feature="AudioWorklet" data-expires="2018-03-06" content="AuqouVYOpuBqGUbQMwRTvnR9R5K1T0u5vw5KUqvZQSNox/gKa/dGig1VWcPYXUzuHN1OtTijH+lhVjg8has9RggAAABseyJvcmlnaW4iOiJodHRwczovL3dhc2FiaS5pM3MudW5pY2UuZnI6NDQzIiwiZmVhdHVyZSI6IkF1ZGlvV29ya2xldCIsImV4cGlyeSI6MTUyMDI5NDQwMCwiaXNTdWJkb21haW4iOnRydWV9">
  <script src="./../Faust/ZitaRevV2/main.js"></script>
</head>
<<<<<<< HEAD
=======
<meta http-equiv="origin-trial" data-feature="AudioWorklet" data-expires="2018-03-06" content="AuqouVYOpuBqGUbQMwRTvnR9R5K1T0u5vw5KUqvZQSNox/gKa/dGig1VWcPYXUzuHN1OtTijH+lhVjg8has9RggAAABseyJvcmlnaW4iOiJodHRwczovL3dhc2FiaS5pM3MudW5pY2UuZnI6NDQzIiwiZmVhdHVyZSI6IkF1ZGlvV29ya2xldCIsImV4cGlyeSI6MTUyMDI5NDQwMCwiaXNTdWJkb21haW4iOnRydWV9">
<script src="./../Faust/ZitaRevV3/main.js"></script>
>>>>>>> c12b316c6406188ba2a6d09856c37ec2c35fe316

<body>
  <audio src="./../BasketCaseGreendayriffDI.mp3" id="soundSample" controls loop></audio>
</body>
<script>
  var ctx = new AudioContext();
  var player = document.getElementById("soundSample");
  var mediaSource = ctx.createMediaElementSource(player);
  var intermediateGain = ctx.createGain();

  var pluginURL = "./../Faust/ZitaRevV3";
  var plugin = new WAPlugin.FaustZitaRev2(ctx, pluginURL);

  plugin.load().then((node)=>{
    plugin.loadGui().then((elem)=>{
      document.body.appendChild(elem);
    });
    mediaSource.connect(node);
    node.connect(ctx.destination);
  });
</script>

</html>